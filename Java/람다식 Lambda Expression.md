# 람다식 Lambda Expression

# 0. 선수 개념 간단하게

## 0.1. 프로그래밍 패러다임

프로그래밍 스타일, 전체적인 프로그래밍 방식을 나타내는 용어.

[프로그래머](https://ko.wikipedia.org/wiki/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8)에게 프로그래밍의 관점을 갖게 해 주고, 결정하는 역할을 한다.

- 프로그래밍 언어 ≠ 프로그래밍 패러다임
- 최근에는 여러 패러다임이 관대하게 지원되는 경향이 있음

### 최근에 사용되는 대표적 패러다임

- 명령형 패러다임: (무엇을 할 것인지 보다) 어떻게(How)할 것인지 설명하는 방식
    - 절차지향 패러다임(ex-C)
    - 객체지향 패러다임(ex-Java1.8 이전)
- 선언형 패러다임: (어떻게 할 것인지 보다) 무엇(What)을 할 것인지 설명하는 방식
    - 함수형 패러다임(ex- 하스켈, 스킴)
- 멀티 패러다임: 혼합 사용
    - java1.8이후 람다식, steamAPI등을 지원하면서 멀티 프로그래밍 방식을 취한다고 할 수 있음.
    - C++도 기본적으로 객체지향 언이이면서, 절차지향, 객체지향, 제너릭 프로그래밍의 요소들을 지원하도록 설계됨. (순수하게 객체지향 프로그래밍을 작성할 수 있고, 멀티 패러다임으로 프로그래밍할 수 도 있다.)

## 0.2. 함수형 프로그래밍

### 개념

명령형 프로그래밍은 개발하는 SW의 크기가 커집에 따라, 복잡하게 엉켜있는 스파게티 코드를 유지보수 하는 것이 어려움 → 함수형 프로그래밍에 관심

함수형 프로그램밍은 **거의 모든 것을 순수 함수로 나누어 문제를 해결하는 방법**으로, 작은 문제를 해결하기 위한 함수를 작성하여 가독성을 높이고 유지보수를 용이하게 한다.

*→ 대입문이 없는 프로그래밍! (Robert C.Martin / Clean Code)*

### 특징

부수 효과가 없는 순수 함수를 1급 객체로 간주하여 파라미터나 반환값으로 사용할 수 있으며, 참조 투명성을 지킬 수 있다.

- **부수효과** : 변화가 발생하는 작업.
- **순수 함수** : 부수효과를 제거한 함수. Memory나 I/O관점에서 부수효과가 업고, 함수의 실행이 외부에 영향을 끼치지 않는 함수를 의미함 → Thread-safe함
- **1급 객체 (First Class citizen) :** 다음 조건을 반족하는 객체
    - 조건 1. 변수나 데이터에 할당 할 수 있어야함.
    - 조건2. 파라미터로 전달 할 수 있음. (객체의 인자로 넘길 수 있음)
    - 조건3. 반환값으로 사용할 수 있음.
    - 1급 객체는 할당에 사용된 이름과 무관하게 고유한 식별이 가능함.
- **참조 투명성**
    - 동일한 인자에 대해 항상 동일한 결과를 반환해야 함.
    - 참조 투명성을 통해 기존의 값은 변경되지 않고 유지됨.(Immutable Data)

## 0.3. 익명 클래스 Anonymous Class

내부 클래스의 일종으로, 프로그램에서 일시적으로 한 번만 사용되고 버려지는 객체.

- 정의와 동시에 객체를 생성할 수 있다.
- 어느 메소드에서 **부모 클래스의 자원을 상속받아 재정의하여 사용할 자식 클래스가 한번만 사용**되고 버려질 자료형이면, 굳이 상단에 클래스를 정의하기보다는, **지역 변수처럼** 익명 클래스로 정의하고 스택이 끝나면 삭제되도록 하는 것이 유지보수면에서나 프로그램 메모리면에서나 이점을 얻을 수 있다.

---

# 1. 람다식

## 2.1. 개념

함수를 하나의 식(Expression)으로 표현한 것.

- 함수를 람다식으로 표현하면 메소드의 이름이 필요없다.
- 등장이유 : 불필요한 코드를 줄이고, 가독성을 높이기 위해
- 익명 함수의 한 종류이다.
    - 익명함수 : 이름이 없는 함수. 모두 1급 객체에 해당.
    - 1급 객체인 함수는 변수처럼 사용가능하며, 매개변수로 전달 가능하다.
- java의 함수는 1급 객체가 아니지만, lambda를 통해 이를 보완한 것.
    - (일반)함수도 익명 클래스를 사용하여 비슷하게 사용할 수 있음
    
    ```java
    Test test = new Test(){
    	System.out.println("hi");
    };
    ```
    

### [참고] 익명클래스 vs Lambda

- 람다와 익명 클래스는 처리방식이 내부적으로 유사하지만 같은 개념은 아니다.
- 익명 클래스는 익명의 새로운 클래스를 생성하지만, 람다는 새로운 메서드를 생성한다.
- 익명 클래스의 this는 새로 생성된 클래스를 의미하고, 람다의 this는 람다를 가진 클래스를 의미한다.

### 특징

- 람다식 내에서 사용되는 지역변수를 final이 붙지 않아도 상수로 간주된다.
- 람다식으로 선언된 변수명은 다른 변수명과 중복될 수 없다.

### 장점

1. 코드를 간결하게 만들 수 있다.
2. 식에 개발자의 의도가 명확히 드러나 가독성이 높아진다.
3. 함수를 만드는 과정없이 한번에 처리할 수 있어 생산성이 높아진다.
4. 병렬 프로그래밍이 용이하다.

### 단점

1. 람다를 사용하면서 만든 무명함수는 재사용이 불가능하다.
2. 디버깅이 어렵다.
3. 람다를 남발하면 비슷한 함수가 중복 생성되어 코드가 지저분해질 수 있다.
4. 재귀로 만들경우 부적합.

## 2.2. 사용법&예시

### 사용법

1. 람다는 매개변수 화살표(→) 함수 몸체로 사용할 수 있다.
2. 함수몸체가 단일 실행문이면 괄호{}를 생략할 수 있다.
3. 함수 몸체가 return 문으로만 구성되어 있으면 괄호{}를 생략할 수 없다.
4. 선언된 type과 선언되지 않은 type을 같이 사용 할 수 없다.

```java
//기존 방식
반환티입 메소드명 (매개변수, ...) {
	실행문
}
// 람다 방식
(매개변수, ... ) -> { 실행문 ... }
```

### 예시1

```java
//정상적인 유형
(int x) -> x+1
(x) -> x+1
x -> x+1
(int x) -> { return x+1; }
x -> { return x+1; }

(int x, int y) -> x+y
(x, y) -> x+y
(x, y) -> { return x+y; }

(String lam) -> lam.length()
lam -> lam.length()
(Thread lamT) -> { lamT.start(); }
lamT -> { lamT.start(); }

//잘못된 유형 : 선언된 type과 선언되지 않은 type을 같이 사용 할 수 없다.
(x, int y) -> x+y
(x, final y) -> x+y
```

### 예시2

기존 자바 문법 → 람다식 문법

```java
new Thread(new Runnable() {
   @Override
   public void run() { 
      System.out.println("Welcome Heejin blog"); 
   }
}).start();
```

```java
new Thread(()->{
      System.out.println("Welcome Heejin blog");
}).start();
```

---

# 면접질문

- Lambda Expression 은 무엇인가요?
    - script1) 식별자 없이 실행이 가능한 함수입니다. 함수인데 함수를 따로 만들지 않고 코드한줄에 함수를 써서 그것을 호출하는 방식입니다. 자바 8부터 지원하고 코드가 간결해 가독성이 좋다는 것이 장점입니다. 그러나 람다식으로 만든 함수는 재사용이 불가하고 디버깅이 까다롭다는 단점이 있습니다.
    - script2) Lambda Expression이란 Functional Interface를 구현하는 객체를 만들지 않고도 메서드로 전달할 수 있는 익명 함수를 하나의 식으로 표현할 수 있도록 단수화한 것입니다. 즉, 특정 메소드 사용을 위해 일회용 객체를 만들지 않아도 되기 때문에 간단하게 작성 가능하고 가독성이 증가합니다. 너무 남용하면 코드를 이해하는데 어려움이 생길 수 있고 디버깅이 어렵다는 단점이 있습니다

# 출처

- 함수형 프로그래밍 : [https://mangkyu.tistory.com/111](https://mangkyu.tistory.com/111)
- 프로그래밍 패러다임 : [https://ko.wikipedia.org/wiki/프로그래밍_패러다임](https://ko.wikipedia.org/wiki/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D_%ED%8C%A8%EB%9F%AC%EB%8B%A4%EC%9E%84)
- 람다식 : [https://mangkyu.tistory.com/113](https://mangkyu.tistory.com/113)
- 람다식 : [https://khj93.tistory.com/entry/JAVA-람다식Rambda란-무엇이고-사용법](https://khj93.tistory.com/entry/JAVA-%EB%9E%8C%EB%8B%A4%EC%8B%9DRambda%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B4%EA%B3%A0-%EC%82%AC%EC%9A%A9%EB%B2%95)
- 1급 객체 : [https://velog.io/@sjsrkdgks/1급-객체First-class-citizen](https://velog.io/@sjsrkdgks/1%EA%B8%89-%EA%B0%9D%EC%B2%B4First-class-citizen)
- 익명 클래스 : [https://inpa.tistory.com/entry/JAVA-☕-익명-클래스Anonymous-Class-사용법-마스터하기](https://inpa.tistory.com/entry/JAVA-%E2%98%95-%EC%9D%B5%EB%AA%85-%ED%81%B4%EB%9E%98%EC%8A%A4Anonymous-Class-%EC%82%AC%EC%9A%A9%EB%B2%95-%EB%A7%88%EC%8A%A4%ED%84%B0%ED%95%98%EA%B8%B0)
- 질문 : [https://haejun0317.tistory.com/240](https://haejun0317.tistory.com/240)