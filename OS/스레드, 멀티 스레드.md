# 스레드, 멀티 스레드

# 스레드란?

## cpu의 이용의 기본 단위

### 프로세스 내에서 프로그램 명령을 실행하는 기본 단위이자 흐름, 개체

구성

- 스레드 ID
- 프로그램 카운터
- 레지스터 집합
- 스택

1. 같은 프로세스에 속한 다른 스레드와 코드, 데이터 섹션, 열린 파일이나 신호와 같은 운영체제 자원들을 공유

1. 하나의 프로세스를 안에서 다양한 작업을 담당하는 최소 실행 단위를 스레드라고 한다.
    
    ex) 크롬 브라우저(=프로세스)에서 벨로그 작성하기(=스레드1) & 유튜브로 음악 듣기(=스레드2)
    
2. 각각의 스레드는 독립적인 작업을 수행해야 하기 때문에 고유한 스레드 ID, 프로그램 카운터, 레지스터 집합, 스택을 가지고 있다

프로세스에 하나의 제어 모델 —> 단일 스레드

다수의 제어 스레드 —> 다중 스레드 모델

![Untitled](%E1%84%89%E1%85%B3%E1%84%85%E1%85%A6%E1%84%83%E1%85%B3,%20%E1%84%86%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%20%E1%84%89%E1%85%B3%E1%84%85%E1%85%A6%E1%84%83%E1%85%B3%20b3376533e08f425e8b82400632847426/Untitled.png)

## 단일 스레드

- 하나의 프로세스에서 오직 하나의 스레드로만 실행
- 하나의 레지스터와 스택으로 표현 가능

![images_gil0127_post_e77bf094-c662-48ac-ad2e-530d9bd0f781_single.gif](%E1%84%89%E1%85%B3%E1%84%85%E1%85%A6%E1%84%83%E1%85%B3,%20%E1%84%86%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%20%E1%84%89%E1%85%B3%E1%84%85%E1%85%A6%E1%84%83%E1%85%B3%20b3376533e08f425e8b82400632847426/images_gil0127_post_e77bf094-c662-48ac-ad2e-530d9bd0f781_single.gif)

### 장점

- 자원 접근에 대한 동기화를 신경쓰지 않아도 된다
- 스레드의 문맥 교환 작업을 요구하지 않는다

### 단점

- 여러 개의 CPU를 활용하지 못한다

## 멀티 스레드

: CPU의 최대 활용을 위해 프로그램의 둘 이상을 동시에 실행하는 기술

![images_gil0127_post_813ea794-6eef-40b4-8042-09a8551082fd_multi.gif](%E1%84%89%E1%85%B3%E1%84%85%E1%85%A6%E1%84%83%E1%85%B3,%20%E1%84%86%E1%85%A5%E1%86%AF%E1%84%90%E1%85%B5%20%E1%84%89%E1%85%B3%E1%84%85%E1%85%A6%E1%84%83%E1%85%B3%20b3376533e08f425e8b82400632847426/images_gil0127_post_813ea794-6eef-40b4-8042-09a8551082fd_multi.gif)

### 장점

- 새로운 프로세스를 생성하는 것보다 기존 프로세스에서 스레드를 생성하는 것이 빠르다.
- 프로세스의 자원과 상태를 공유하여 효율적으로 운영이 가능하다
- 프로세스의 문맥교환보다 스레드의 문맥교환이 더 빠르다

### 단점

- 하나의 스레드만 실행중일 때에는 실행시간이 되려 지연될 수 있다
- 멀티 스레딩을 위해 운영체제의 지원이 필요하다
- 스레드 스케쥴링을 신경써야 한다

+멀티 프로세스와 스레드 차이

> 출처
> 

[https://beenlife.tistory.com/114](https://beenlife.tistory.com/114)

> 면접 질문
> 
1. 프로세스와 스레드 차이
2. 스레드는 무엇인지
3. 문맥교환은 스레드간에도 일어나는지
4. 스레드는 왜 독립적인 스택 메모리를 가지는가
5. 멀티 프로세스, 스레드 환경에서 동기화 문제는 어떻게 해결하는가